<!DOCTYPE html>
<html>
<head>
	<style>
    body, html
    {
        margin: 0; padding: 0; height: 100%; overflow: hidden;
    }
  </style>
  <meta name="branch:deeplink:emaillinks" content="1435pm" />
  <title>Journey Demo</title>
  
  <iframe id="page" width="100%" height="100%" src="https://branch.io/">
  
  <script>
    // load Branch
    (function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent".split(" "), 0);
    // init Branch
    branch.init('key_test_alyZcIt171fcEH9mYwTj5ihgCznzSe2d',{
      'make_new_link' : true,
      metadata:{
        "foo" : "bar"
      }
    });

    branch.setBranchViewData({
	    data: {
	        'url': window.location.href,
	        'picture_id': '12345',
	        'user_id': '45123'
	    }
	   });

  var requestParams = window.location.search.substr(1).split("&")
  var parterURL = fakeGet(requestParams,"partner");
  if(parterURL!=null){
    document.getElementById("page").src = parterURL
  }

  function fakeGet(param,key){
    for (var i = param.length - 1; i >= 0; i--) {
      if(param[i].includes(key)){
        return param[i].split("=")[1]
      }
    }
    return null
  }

  </script>
</head>
<body>


</body>
</html>